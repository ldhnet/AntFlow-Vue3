🐜AntFlow is an activiti based,🛩︎battle tested,enterprise grade workflow platform.It has a Dingtalk(a famous Chinese Enterprise IM software) flow like frontend and meticulously tailored for Chinese style(the C-suite executives supersedes standard operating procedures) Office Automation .It is easy to use,easy to maintance and easy to extend. If you ❤️ it,please ⭐️ it

AntFlow 是一款基于activiti的、✈久经生产环境考验的、企业级的工作流引擎平台。前端设计参考了钉钉样式，同时审批流功能更强大，结合中国OA办公特点精心打造🚩，更符合中国宝宝体质👶👶🏻👶🏾。如果您喜欢，请留下星星⭐️

### 基本介绍：

AntFlow是一款开源OA审批工作流系统，灵感来源于钉钉的工作流设计。界面清新自然，操作简洁。致力于解决传统的bpmn.js流程设计器使用门槛高、操作复杂的问题，使得即使是非技术用户也能轻松上手，快速配置日常审批流程。

> 使用场景1,一个上万人的企业,内部重度使用工作流(领一个本子,一支笔就要走流程),仅需要一个流程运营人员即可解决绝大部分问题,基本不需要后端研发参与介入.

### 作者介绍：

目前团队有两名核心开发者。

作者一：曾就职于某大型客服服务公司。公司有有上万名客服。主要负责公司内部客服系统办公系统开发。目前就职于一家外企。主要负责流程引擎前后端项目适配，项目版本维护，用户答疑

作者二：曾就职于上海某知明互联网企业。负责公司内部流程引擎研发，OA系统SAAS化赋能客户。后又就职于国内某知名快速公司，将项目应用于公司内部的OA办公，项目立项，采购招标等项目。

也是本项目的雏形，后面作者结合在相关公司做企业信息化的经验，摒弃了一些与特定企业业务耦合较深的、不常使用且晦涩难以理解的概念。以简单灵活同时又不失专业性宗旨，以开源为契机

以可扩展可快速接入为目标重新设计了不少功能模块。开源的系统只需要对接公司的员工管理系统以后便可以开始工作。（当然为了更好的发挥AntFlow的最大价值，还需要一些简单的扩展定制，最常见的是审批节点审批规则的定制（可能有些中小企业只需要指定人员和角色即可。但是有些复杂的大中型公司还需要结合员工系统做更深的定制）以及审批条件的定制。不要被吓倒，这些AntFlow把这些
做的都非常简单易用，你不需要有专业的工作流知识即可扩展定制（包括具体流程的开发，你完全不需要有专业的流程知识，当然想要玩好，最大程度上压榨AntFlow的价值，你还需要对AntFlow有一定深入了解。想要成为骨灰级玩家，深入了解activiti也是必不可少的）

### 核心技术栈

* Java8-17
* Activiti 5.23
* Spring Boot 2.7.17
* MybatisPlus 3.5.1
* MySql 5.7+

### 核心特性：

1. 足够简单,流程引擎和表单业务解耦，开发者友好：流程引擎与表单业务完全分离，开发者不需要关注流程执行业务,不懂工作流业务的人也能快速介入流程开发工作，只需要实现一接口即可接入一个全新流程。半小时开发一个全新的流程！
2. 流程设计器用户友好，人人可用：AntFlow提供了一个简洁的流程设计器，摒弃了传统设计工具的复杂性，使得用户能够直观、轻松地设计和管理工作流程。
   > 在页面上配置监听器、流程变量、表达式？随着公司流程增加多，维护成本剧增，最主要非程序员难以介入。AntFlow完全不需要后端程序员介入
   > 流程绘制，行政、人事、财务等人员只需要简单的培训，都可以通过拖拽方式配置出流程来。同时不失专业性，作者曾经在过的一个公司完经过一定时间过渡，全部流程均切为页面配置形式！
   >
3. 流程可观测:AntFlow 提供了一个管理员流程预览界面，相当于一个管理员调试界面,管理员可以根据用户发起流程时的条件预览流程审批路径,方便管理员快速定位问题.流程由于版本变更，去重、流程委托等因素导致流程在执行时和和发起时看到的审批人不同，管理员可以通过管理员预览界面快速洞察变化的原因。

> 工作流中的问题大都跟流程执行路径不对有关，有些问题并非问题，而是由于流程的复杂性引起的（比如委托业务），向用户解释清楚就行了
>
> 用户在向你反馈工作流问题的时候你的做法是不是把用户的账号要过来登陆看?AntFlow不需要。后面将会有文章介绍AntFlow如何解决日常流程问题。

4. 久经生产检验的：作者曾经任职于某大型快速公司智能办公研发部，流程引擎在公司内部OA办公，项目立项，采购招标，动力运输调度等场景中广泛应用，经受住了复杂应用场景的考验

5. 基于Activiti的高效开发：AntFlow基于流行的开源工作流引擎Activiti进行深度定制开发，保证了系统的稳定性和高效性。同时，易于扩展和定制（你对activiti熟悉的话可以任意定制，antflow不屏蔽activiti底层能力，当然，你不熟悉也无所谓，提供的扩展功能够绝大部分场景下使用了），可以无缝对接现有的用户、部门和角色体系。

> 你使用的工作流引擎是否需要你同步现有系统里的员工，部门和角色信息到工作流系统中，你是否天天因为数据同步问题导各种审批流程问题而抓狂？使用Antflow吧，AntFlow不需要同步数据，可以无缝对接您现有系统的用户角色体系。（提供有非常简单的api，只要实现模板方法就可以了）

6. 功能丰富：只需要一个接口就能对接用户角色系统?只需要一个接口就能快速开发一个流程业务?AntFlow是不是个玩具?no!No!NO!AntFflow经过多年的沉淀，功能相当丰富,表面上看上去简单是因为它在实践中不断的打磨,屏蔽的内部的复杂性,提供给用户极致简单的API调用.(下面功能特点章节会详细介绍AntFlow的丰富功能)

### 适用场景：

* 中小企业：特别适合需要快速部署和简化流程管理的中小企业，AntFlow可以帮助这些企业提升工作效率，降低管理成本。中小企业接入以后后期几乎零成本，甚至不需要专门开发人员
* 大型企业部门：对于大型企业AntFlow可以作为一个灵活、易于管理的工具来优化内部审批流程。
* 政府及非盈利机构：政府及非盈利机构也可以利用AntFlow来改进其文档和审批流程，提高工作透明度和效率。

AntFlow是为今日快速变化的工作环境设计的，它提供了一个强大而灵活的解决方案，可以帮助各种类型的组织简化和优化他们的审批流程。开放源代码的特性也使得AntFlow具有极高的适应性，能够快速响应市场和用户需求的变化。

### 功能一览

| 功能                           | 功能解释&场景示例                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | 完成情况 |
| ------------------------------ | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------- |
| 审批人前去重                   | 不同节点都需要同一个审批人审批时,审批人只在最前面节点出现(可能刚接触流程业务的人不理解为什么要去重,如果审批流每个节点都是固定人员,当然不需<br />,实际情况是复杂的办公流程很多节点都不是指定的人,而是根据规则带出来的.比如一个报销流程需要直属领导和部门负责人审批,有的员工的直属领导就是<br />部门负责人(比如你是研发组长))                                                                                                                                                                                                                                                                                                                                                         | ✅       |
| 审批人后去重                   | 不同节点都需要同一个审批人审批时,审批人只在最后面节点出现.前去重还是后去重是根据实际业务决定的.比如在一个财务流程中需要资金经理和财务总监<br />都审核。财务总监可能也是资金经理（资金经理有多个），这时候流程对他后去重比较合理，流程先让其它资金经理把关，没问题了再到他那里（                                                                                                                                                                                                                                                                                                                                                                                                     | ✅       |
| 审批人不去重                   | 审批人前去重后去重都是针对流程整体而言的，针对流程的某个节点，有需要不去重的场景（即去重逻辑对它失效）。比如某个大额打款流程需要出纳在<br />特定的机器上操作（可以实现对流程特定节点控制）。如果他在打款节点被去重掉了，则将导致打款行为无法进行（流程设计时是对打款这个节点进行控制）                                                                                                                                                                                                                                                                                                                                                                                            | ✅       |
| 会签                           | 流程某个节点需要多人审批时（通常是一类角色，会有多个人），需要所有人都审核通过流程才能继续进行。比如一个项目立项流程需有个审批节点是副总<br />经理审批，可能公司有多个副总经理，需要他们都同意流程才继续                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | ✅       |
| 顺序会签                       | 上面的会签是不分顺序的，强调需要审批节点上的人都需要同意方可继续。顺序会签则是流程到了这个审批节点，需要按预先设计好的顺序依次审批通过<br />还以上面项目立项流程为例。假如多个副总经理有一个是起决定作用，其它人都是象征性同意。则可以将流程设计为他最先执行，然后再到到其它人审批<br />具体需要不需要顺序，要结合具体的业务设计。总体上而言，不需要依次审批的效率会高一些（这里批审批的流转效率，技术上没有区别）                                                                                                                                                                                                                                                                | ✅       |
| 或签                           | 流程某个节点是多人审批节点，但是只需要一个人审批通过流程就可以继续向下执行。比如一个财务报销流程，到了出纳审批的环节公司可能有多个出纳，<br />但是只需要任意一个出纳审核票据无误就可以继续向下进行                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | ✅       |
| 打回修改                       | AntFlow的特色功能（市面上一些竞品也有这项功能），流程发起后，由于表单字段填写错误，这时候让发起人重新填写显然效率非常低，也容易让人暴躁,<br />AntFlow支持将流程打回到发起人重新修改后再提交，然后流程继续                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | ✅       |
| 流程同意、拒绝                 | 审批流的基本功能                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | ✅       |
| 流程加批                       | 流程加批用在一些组织角色不明确的流程中，比如一个开发人员发起了一个数据库变更流程，需要他对应的产品同意，公司中一般可能没有开发对应的产品<br />是谁这样的划分，这时候流程可以设计为允许加批，开发在发起流程时选择自己的产品进行审批。                                                                                                                                                                                                                                                                                                                                                                                                                                              | ✅       |
| 流程作废                       | 在流程还没有审批完成时,流程发起人对流程执行作废操作,终结掉当前流程                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | ✅       |
| 变更当前处理人                 | 变更流程当前正在执行节点。使用场景：正常离职需要办理离职交接手续，其中有一步是交接手上正在处理的流程给别人，但是有些<br />特殊关系户，他在离职的时候只需要找个招呼就行了。这个时候需要他审核的流程就会卡住进行不下去，这时候可以向领导请求他手里的流程可以交接给谁<br />然后把处理人变更为指定的人。变更处理人直接更改引擎中当前节点的处理人，是危险操作，可能会查看审批路径人审批人看起来不对                                                                                                                                                                                                                                                                                    | ✅       |
| 变更未来节点处理人             | 有些流程由于开发时存在逻辑bug或者运营人员在配置时候配置错了，导致不应该出现在当前审批流中的人出现了。比如加班餐20元报销流程不一般不需要<br />老板亲自审批，但是走到老板那里了。一大早上老板的OA系统出现一堆加班餐报销流程，想想老板会是什么心情💀。这时候如果流程还没到老板那里，可以变<br />更一下流程处理人。注意，变更未来节点处理人是一补救措施。和变更当前处理人的区别第一点当然是节点状态不同。第二点就是变更处当前处理人一般针<br />单个具体流程实例（通俗讲就是有流程编号的一个流程），变更未来处理人一般为整个流程级别的。比如所有的已发起的加班餐报销流程                                                                                                               | ✅       |
| 流程委托                       | 处理人将自己需要处理的流程转交给别人代处理的过程称作流程委托。比如为了感谢你对公司辛勤付出，领导给你放一个月假让你到三亚旅游一圈，此间你<br />不想处理任何与工作相关的事务（那是不可能的），这时候可以发起一个流程委托申请流程，被委托人和相关负责人都审批通过后流程就自动委托给指定的<br />人处理了（流程委托也是危险操作，不能轻易开放。比如一个百万级别的采购流程公司副总擅自委托给一个不知明喽啰审批显然是不合适的😄）                                                                                                                                                                                                                                                        | ✅       |
| 流程限时制委托                 | 流程处理人将自己需要处理的流程在指定时间段内委托给指定人代处理的过程叫作限时委托。有些委托是永久性的，比如老板会将一些非必要自己审批的流程<br />委托给自己的秘书（老板委托自己的流程也要发起流程申请？are you kidding me?其实要看怎么设计的，如果老板会严格遵守公司规范没问题，如果不是则<br />就需要特殊考虑，比如给管理员增加一个手动修改流程委托人权限，这也可以防止程序出现意外情况有补救措施。比如别人流程委托申请的流程走完了，结果<br />逻辑没生效。你让别人再重新发起一个流程？这个时候自己手动私下处理掉得了🙄。回到正题，实际工作中很多流程委托都不是永久性的，比如上面的你到三<br />亚旅旅游的案例。你只需要在这段时间内将流程委托出去，你回来了还得继续当牛做马干活🤐 | ✅       |
| 定时流程                       | 工作中有很些场景流程并不会是由用户手动发起的，有的是系统以指定用户的名义发起的。比如员工试用期转正申请。如果让员工自己来关注会比较累，让hr<br />来提醒hr也会比较累。这时候可以制定一些定时流程，在员工试用期到的时候自动以他的名义发起一个试用期转正申请流程（流程节点上要把他设置为审批人<br />不然他自己都不知道，一脸蒙蔽🥴）                                                                                                                                                                                                                                                                                                                                                  | ✅       |
| 流程灰度                       | 在日常开发中，有些比较规范的团队会有灰度发版操作。同样，在重度依赖审批流的公司中，审批流出错可能会导致严重的问题，轻则批评责备，重则相应<br />开发负责人员卷铺盖走人。为了将新上线的流程可能的bug导致的风险降到最低。可以对流程进行灰度试点。灰度的策略有很多，比如指定人员使用，指定<br />角色使用，指定部门使用等。线上运营一段时间没有问题时再放开给整个公司使用。（看到这里你是不是感觉可能会非常困难，其实使用起来非常简单。这也<br />是AntFlow的追求，让流程尽量简单，流程开发完成以后运营能做的事尽量不让开发来做。后面会出教程详细介绍                                                                                                                                    | ✅       |
| 流程遇到指定人结束             | 这是流程设计时的一种功能，非运行时的。比如一个按公司部门组织层层审批的流程，有时候不知道需要向上审批多少层结束，但是可以在有某个人出现的时候<br />终止。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | ✅       |
| 超时自动审批                   | 目前尚不支持，开发起来没有太大技术难度。但是作者一直坚持流程同意应当是审批人的真实意愿，可以结合oa系统站内信提醒，IM工具发消息提配，线下电<br />话沟通等方式让他同意掉。而不仅仅是为了时效性通过技术手段让流程自动通过。（AntFlow有很多中国式办公的功能，比如某个人不在了导致流程无法进行<br />这时候可以变更处理人来处理。总之有很多方法）。当然如果大家觉得这个功能很必要，出可以开发                                                                                                                                                                                                                                                                                           | ❌       |
| 流程抄送                       | 审批流的基本功能，将流程抄送给指定的人方便他查阅、归档管理。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | ✅       |
| 流程自定义条件                 | 流程设计的时候往往会根据不同的条件决定执行不同的流程分支。条件也多种多样，和公司业务有密切关系。也是AntFlow中为数不多需要自己开发定制的功能<br />当然开发起来也非常简单。只需要实现一个接口构造一个返回true或者false的函数即可。剩下的交给引擎来完成。                                                                                                                                                                                                                                                                                                                                                                                                                            | ✅       |
| 流程执行运作                   | 流程在审批某个特定节点\审批完成时执行一个运作。比如一个用户发起一个腾讯云账号申请流程。有的公司是流程完成之后负责这个流程的人手动给员工开通<br />账号，对于大型企业每天有成千上百的人需要申请各自云平台账号，这样显然是低效的，可以更进一步，流程完成以后会发起回调事件，在回调事件里写上特定<br />的和云平台对接开通账号的逻辑即可。流程执行运作也是危险行为，需要注意设计逻辑的完整性                                                                                                                                                                                                                                                                                           | ✅       |
| 流程完结后自动发起<br />新流程 | 比如在一些公司有着复杂的离职流程，一般公为几个有先后顺序的流程，最后一个流程走完了才算离职完成。这里可以通过流程运作来完成，单独拎出来说是因<br />为作者觉得这个功能非常基础。也是为了帮助大家拓宽思路。结果流程引擎的现有某项或者某几项能力来完成一项功能                                                                                                                                                                                                                                                                                                                                                                                                                        | ✅       |
| 外部流程接入                   | 外部流程接入是指公司内以OA系统为核心，将流程引擎做为基础组件提供给公司其它业务系统来使用。比如果Devops系统，CRM系统，WMS系统等。这些外部<br />系统接入了之后便可以使用OA流程引擎的基础功能，一方面便于流程集中管理，另一方面减少研发资源的浪费。很多团队比如Devops团队做流程引擎自然没有做<br />OA系统的人专业。他们随便在网上找个组件使用一面方存可能存在能力不足问题，另一方面可能存在各种bug需要处理，他们可能处理不了。这些专业的事情应该交<br />给一个专业的团队来做（这块功能作者在做企业级开发的时候做过，但是效果不是很满意，这块功能正在重新规划中）                                                                                                                     | 🕘       |
